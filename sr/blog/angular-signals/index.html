<!DOCTYPE html>
<html lang="sr"><head>
  <meta charset="utf-8" />
  <title>Angular Signali</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  
  <meta name="author" content="Tech9320">
  
  <meta name="generator" content="Hugo 0.102.2" />

  <!-- Bootstrap -->
  
  <link rel="stylesheet" href="https://9320.tech/css/bootstrap.min.css" />
  <!-- font-awesome -->
  <link rel="stylesheet" href="https://9320.tech/font-awesome/css/font-awesome.min.css" />
  <!-- Main Stylesheets -->
  
  <link href="https://9320.tech/scss/style.min.css" rel="stylesheet" />
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QXRDBKKF8K"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-QXRDBKKF8K', { 'anonymize_ip': false });
}
</script>

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-QXRDBKKF8K', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  
  <link rel="shortcut icon" href="https://9320.tech/images/favicon.png" type="image/x-icon" />
  <link rel="icon" href="https://9320.tech/images/favicon.png" type="image/x-icon" />
</head><body><nav class="navbar navbar-expand-lg site-navigation">
  <div class="container">
    <a class="navbar-brand" href="https://9320.tech/" style="width: 300px">
      <img style="width: 168px; height: 35px; max-width: 168px" src="https://9320.tech/images/logo-horizontal-black.png" alt="logo" />
    </a>
    <button
      class="navbar-toggler collapsed"
      type="button"
      data-toggle="collapse"
      data-target="#sitenavbar"
    >
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>

    <div class="collapse navbar-collapse" id="sitenavbar">
      <ul class="navbar-nav ml-auto main-nav">
           
        <li class="nav-item">
          <a class="nav-link" href="/sr/">Po캜etna stranica</a>
        </li>
          
        <li class="nav-item">
          <a class="nav-link" href="/sr/about/">O nama</a>
        </li>
          
        <li class="nav-item">
          <a class="nav-link" href="/sr/portfolio/">Usluge</a>
        </li>
          
        <li class="nav-item">
          <a class="nav-link" href="/sr/blog/">Blog</a>
        </li>
          
        <li class="nav-item">
          <a class="nav-link blink" href="/sr/agro-invest/">AgroInvest</a>
        </li>
          
        <li class="nav-item">
          <a
            class="nav-link btn btn-sm btn-primary btn-sm-rounded"
            href="/sr/contact/"
          >
            <span class="btn-area">
              <span data-text="Kontakt"> Kontakt </span>
            </span>
          </a>
        </li>
         
        <li class="nav-item">
           
          <a class="nav-link" href="/en/blog/angular-signals/"
            >ENG</a
          >
           
        </li>
      </ul>
    </div>
  </div>
</nav>
<main>

<section class="site-blog details">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-12">
        <article class="site-blog-details">
          <p><span>June 27, 2023</span> by <span>Jovan Mitrovi캖</span></p>
          <h2 class="blog-title">Angular Signali</h2>
          <p class="feature-image-wrap">
            <img class="feature-image" src="https://9320.tech/images/blog/signals/Angular_Signals_Logo.png" alt="blog-feature-image">
          </p>
          <p>Pozdrav svim ljubiteljima Angular razvojnog okvira, imamo za vas sjajne vesti.
U najnovijoj verziji Angulara, verziji 16, imamo priliku da se upoznamo sa novim reaktivnim modelom u Angular-u, <strong>Signalima</strong>.
Za one koje ne znaju, Angular je razvojni okvir za kreiranje mobilnih, desktop ali prvenstveno web aplikacija.
Razvijen je od strane in쬰njera u <em>Google-u</em> i predstavlja jedan od najpopularnijih front-end okru쬰nja dana코njice.
Zbog svoje kompleksnosti 캜esto predstavlja problem ljudima koji tek kre캖u da ga u캜e.
Angular tim je odlu캜io da svim developerima, onima koji vec imaju iskustva i onima koji tek po캜inju,
olak코aju svakodnevni rad uvodjenjem novog koncepta koji se naziva <em>Signal</em>.
Pre nego 코to krenemo da se bavimo signalima trebalo bi da objasnimo sta je <em>Zone.js</em> i <em>mehanizam za detekciju promena</em>.</p>
<p><img src="../../../images/blog/signals/spongebob-signals.jpg" alt="SpongeBobSignals"></p>
<hr>
<h4 id="zonejs"><strong>Zone.js</strong></h4>
<p>Za코to je do danas Zone.js jedna od klju캜nih bilblioteka svake Angular aplikacije? Zone.js je biblioteka koja se koristi da Angular-u signalizira kada je potrebno da
pokrene mehanizam za detekciju promena.
Prilikom pokretanja Angular aplikacije, Zone.js &ldquo;<strong>monkey patch</strong>&quot;-uje sve native API-jeve (u slucaju web aplikacije, native browser API-jeve).
맚a uop코te zna캜i termin monkey patching!?
Monkey patching je termin koji ozna캜ava dinami캜ko modifikovanje koda u toku rada aplikacije. I dalje zvu캜i konfuzno?
Uze캖emo <em>setTimeout</em> kao primer native browser API.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">originalSetTimeout</span> <span style="color:#f92672">=</span> window.<span style="color:#a6e22e">setTimeout</span>;
</span></span><span style="display:flex;"><span>window.<span style="color:#a6e22e">setTimeout</span> <span style="color:#f92672">=</span> (<span style="color:#a6e22e">cb</span>, <span style="color:#a6e22e">delay</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Ubacivanje dodatnog koda unutar native API-ja
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;I&#39;m monkey patched&#34;</span>);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">originalSetTimeout</span>(<span style="color:#a6e22e">cb</span>, <span style="color:#a6e22e">delay</span>);
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>맚a mislite da 캖e se desiti kada bi pokrenuli funkciju</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">setTimeout</span>(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Hello&#34;</span>);
</span></span><span style="display:flex;"><span>}, <span style="color:#ae81ff">1000</span>);
</span></span></code></pre></div><p>Ako je va코 odgovor da 캖e u konzoli pojaviti tekst &ldquo;<em>I&rsquo;m monkey patched</em>&rdquo; i nakon jedne sekunde tekst &ldquo;<em>Hello</em>&rdquo; u pravu ste.
Promenili smo svojstvo native API-ja tako 코to smo originalni API sa캜uvali u promenjivoj <em>originalSetTimeout</em>, nakon 캜ega smo redeklarisali taj isti API tako 코to
smo mu dodelili vrednost starog i dodali novu liniju koda (linija 4). Kao 코to mo쬰te da vidite svako od nas mo쬰 da menja API-jeve po svojoj volji, zar to nije super!
Zone.js biblioteka radi isto to, samo 코to su dodatne funckionalnosti koje dodaje vezane za mehanizam za detekciju promena unutar Angular okru쬰nja.</p>
<h4 id="mehanizam-za-detekciju-promena"><strong>Mehanizam za detekciju promena</strong></h4>
<p>Kao 코to mo쬰te pretpostaviti po nazivu, mehanizam za detekciju promena je zadu쬰n za proveru promena unutar aplikacije. Kada ka쬰mo promene mislimo na bilo kakvu interakciju
korisnika ili nekog drugog servisa sa na코om aplikacijom (klik korisnika na neki element ili asinhroni odgovor servera sa podacima). Da bi smo bolje razumeli kako
mehanizam za detekciju promena funkcioni코e moramo da shvatimo osnovnu arhitekturu svake Angular aplikacije.</p>
<h4 id="komponenta"><strong>Komponenta</strong></h4>
<p>Najosnovniji element u Angular ekosistemu je <em>komponenata</em>.
Komponenta je UI gradivni blok 캜ija svojstva mogu biti razli캜ita u zavisnosti od aplikacije koja se pravi.
Na primer web sajt se sastoji iz odredjenih delova: zaglavlje (<em>header</em>), podno쬴ja stranice (<em>footer</em>), polja za unos teksta (<em>search input</em>).
Svaka od ovih stavki mo쬰 predstavljati komponentu za sebe, mo쬰mo imati komponentu &ldquo;<em>searchComponent</em>&rdquo; koja se sastoji iz input polja i logike za pretra쬴vanje
odredjenih sadr쬬ja. Ovo omogu캖ava komponentama da se korise na vi코e od jednog mesta na samom web sajtu, 코to nam daje mogu캖nost da sa ve캖om brzinom i sa boljom kontrolom
razvijamo na코 web sajt (i naravno da na코 kod bude 캜istiji i lak코e odr쬴v).</p>
<p><img src="../../../images/blog/signals/angular-component-structure-1.jpg" alt="ComponentTree"></p>
<p>Na slici mo쬰te primetiti odnos komponenata koji se mo쬰 prikazati kao stablo.
U sr쬴 svake Angular aplikacije se nalazi
root komponenta (ili <em>App Component</em> u pravim aplikacijama). Ona u sebi sadr쬴 sve ostale komponente koje smo mi prilikom razvoja napravili (neka vrsta omota캜a).
Prilikom pokretanja bilo koje Angular aplikacije root komponenta (<em>App Component</em>) 캖e biti polazna tacka, tj root komponenta je jedina komponenta koja se bootstrapuje
pri inicijalnom pokretanju.</p>
<h4 id="kako-funkcioni코e-mehanizam-za-detekciju-promena"><strong>Kako funkcioni코e mehanizam za detekciju promena</strong></h4>
<p>Kada dodje do neke akcije na stranici (klik mi코a na stranici npr),
Angular prolazi kroz celo stablo komponenti i tom prilikom proverava da li je doslo do promene vrednosti
delova stanja aplikacije koji se prikazuju na template-u, kako bi uskladio prikazane vrednosti sa trenutnim stanjem u aplikaciji.
Mo쬰te pretpostaviti da ovo definitivno uti캜e na performanse svake Angular aplikacije (zamislite sliku
iznad sa stablom od 100 komponenata), ali sa druge strane postoje optimizacije koje mi kao developeri mo쬰mo da primenimo.
Jedna od tih optimizacija je <em>OnPush Change Detection</em> strategija kojom se ne캖emo baviti u ovom blogu, ali ono 코to mo쬰mo da ka쬰mo jeste da se detekcija promena izvr코ava efikasnije koriste캖i tu metodu
(Angular ne캖e prolaziti kroz celo stablo da bi proverio gde se promena desila, mo캖i 캖e da &ldquo;filtrira&rdquo; odredjene delove stabla).
Vi코e o <em>OnPush Change Detection</em> strategiji mo쬰te pro캜itati na ovom blogu: <a href="https://huantao.medium.com/angular-change-detection-onpush-with-examples-5187f8b2d6e6">https://huantao.medium.com/angular-change-detection-onpush-with-examples-5187f8b2d6e6</a>.</p>
<h4 id="signali"><strong>Signali</strong></h4>
<p>Dolazimo do &ldquo;<strong>mesa</strong>&rdquo; na코eg bloga. Signali predstavljaju novu primitivu u Angularu
(<em>SolidJS</em> je prvi frejmvork koji ih je popularizovao, iako se kao koncept koristio u <em>Knockout.js</em>-u).
mo쬰te ih zamisliti kao omota캜 oko primitivne vrednosti.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">signal</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;@angular/core&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">signal</span>(<span style="color:#ae81ff">25</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">people</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">signal</span><span style="color:#f92672">&lt;</span><span style="color:#a6e22e">string</span>[]<span style="color:#f92672">&gt;</span>([]);
</span></span></code></pre></div><p>Signale kreiramo kori코캖enjem signal funkcije iz <strong>@angular/core</strong> paketa, inicijalizujemo ih pozivanjem signal konstruktor funkcije.
U ovom primeru mo쬰mo da primetimo da signal mora da ima po캜etnu vrednost (sli캜no kao <em>BehaviorSubject</em> u rxjs-u). Na koji nacin mo쬰te da koristite signale?
U slede캖em kodu mo쬰te videti neke od funkcionalnosti.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">age</span>()); <span style="color:#75715e">// Prikazi vrednost signala
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">age</span>.<span style="color:#a6e22e">set</span>(<span style="color:#ae81ff">10</span>); <span style="color:#75715e">// Promena inicijalne vrednost signala
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">age</span>.<span style="color:#a6e22e">update</span>((<span style="color:#a6e22e">currentAge</span>) =&gt; <span style="color:#a6e22e">currentAge</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>); <span style="color:#75715e">// A쬿rira vrednost signala koristeci pro코lu vrednost kao prvi argument
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">people</span>.<span style="color:#a6e22e">mutate</span>((<span style="color:#a6e22e">peopleList</span>) =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">peopleList</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#34;Marko&#34;</span>); <span style="color:#75715e">// Sli캜no kao update, samo 코to mo쬰mo promeniti vrednost na mutabilan na캜in
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>});
</span></span></code></pre></div><p>Prime캖ujete da kada 쬰limo da pristupimo vrednosti signala, taj signal moramo pozvati kao funkciju bez parametara (<em>getter</em> funkciju).
Ovo izgleda super, ali za sada sve ovo dosta podse캖a na <em>Map</em> objekat u Javascriptu.
Sada 캖emo predstaviti jednu dodatnu fukncionalnost signala koja 캖e sve to promeniti.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span>&gt;{{ age() }}&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><p>Signale mo쬰mo direktno da koristimo u na코em template-u, i prilikom svake promene signala on 캖e obavestiti sve korisnike tog signala da mu se vrednost promenila.
Ovo vas mo쬯a podse캖a na observable pattern, samo 코to postoji par razlika (signali i jesu, kao i rxjs primitive, reaktivni).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span>&gt;{{ age | async }}&lt;/<span style="color:#f92672">div</span>&gt;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">BehaviorSubject</span>(<span style="color:#ae81ff">25</span>);
</span></span></code></pre></div><p>Prva jeste da ne moramo nigde da se subscribujemo na signal (samo ga pozivamo na template-u, izbegavaju캖i mogu캖nost potencijalnog memory leak-a), druga, i mnogo bitnija, jeste da vam za ovo uop코te nije potrebna Zone.js biblioteka!!!
Prime캖ujete takodje da rxjs mo쬰 biti zamenjen sa signalima (o ovome 캖e biti malo vi코e re캖i kasnije u tekstu).
Napomenuli smo iznad da signali mogu imati korisnike, 코ta to zna캜i?
Signale delimo na:</p>
<ul>
<li>one u koje mo쬰mo upisivati vrednost (<strong>WritableSignals</strong>).</li>
<li>one koji su izvedeni iz drugih signala (<strong>readonly</strong>)</li>
</ul>
<p>Writable signale mo쬰mo jo코 i nazvati proizvodja캜ima, jer oni proizvode neku novu vrednost (vidite primer age signala iznad). Readonly signali direktno zavise od drugog signala
(i njihova vrednost mo쬰 samo da se 캜ita, nije je moguce promeniti sa nekom od funkcija). Kako bi bilo jasnije 코ta su izvedeni signali, prikaza캖emo primer jednog od njih</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">olderBrotherAge</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">computed</span>(() =&gt; <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">age</span>() <span style="color:#f92672">+</span> <span style="color:#ae81ff">4</span>);
</span></span></code></pre></div><p>Da bismo napravili readonly signal koristimo <em>computed</em> funkciju, u koju prosledjujemo signal 캜ije promene 쬰limo da pratimo. Razlika izmedju computed (ili readonly) signala
u poredjenju sa generi캜kim (ili Writable) signalom jeste u tome da se poslednja vrednost computed signala ke코ira,
tako da ukoliko nije do코lo do promene vrednosti signala koji se koristi unutar callback funkcije izvedenog (computed) signala, callback se nece ponovo izvr코iti.</p>
<p>Jo코 jedna funkcija koju 캖emo napomenuti je efekat.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">effect</span>(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Brothers age changed to: &#34;</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">olderBrotherAge</span>());
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p><em>Efekat</em> funkcija zakazuje i pokre캖e sporedne efekte u reaktivnom kontekstu.
Callback funkcija efekta se ponovo izvr코ava (<em>re-execute</em>) kada dodje do promene bilo kog signala koji se koriste unutar njega (primer iznad, ako bi do코lo do promene
<em>olderBrotherAge</em> signala, <em>console log</em> bi se ponovo izvr코io).
Kako uop코te svi ovi signali i sporedni efekti komuniciraju jedni sa drugima?</p>
<h4 id="pushpull"><strong>Push/Pull</strong></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span>&gt;{{age()}}&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">div</span>&gt;{{olderBrotherAge()}}&lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">button</span> <span style="color:#960050;background-color:#1e0010">(</span><span style="color:#a6e22e">click</span><span style="color:#960050;background-color:#1e0010">)=&#34;</span><span style="color:#a6e22e">increase</span><span style="color:#960050;background-color:#1e0010">()&#34;</span>&gt;Pove캖aj godine&lt;/<span style="color:#f92672">button</span>&gt;
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>    <span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">signal</span>(<span style="color:#ae81ff">8</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">olderBrotherAge</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">computed</span>(() =&gt; <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">age</span>() <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">40</span> <span style="color:#f92672">?</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">age</span>() <span style="color:#f92672">+</span> <span style="color:#ae81ff">4</span> <span style="color:#f92672">:</span> <span style="color:#ae81ff">44</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">constructor</span>() {
</span></span><span style="display:flex;"><span>     <span style="color:#a6e22e">effect</span>(() =&gt; {
</span></span><span style="display:flex;"><span>       <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">olderBrotherAge</span>() <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">18</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">`Brother is an adult and he is: </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">olderBrotherAg</span>()<span style="color:#e6db74">}</span><span style="color:#e6db74"> years old`</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Brother is not an adult yet&#39;</span>);
</span></span><span style="display:flex;"><span>     })
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">increase</span>() {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">age</span>.<span style="color:#a6e22e">update</span>((<span style="color:#a6e22e">previousAge</span>) =&gt; <span style="color:#a6e22e">previousAge</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>Napisali smo jedan primer mini aplikacije u kojoj imamo dugme preko koga mo쬰mo da pove캖amo godine sebi. Na코 brat je stariji od nas 4 godine tako da 캖e njegove godine uvek biti na코e godine plus 4 (linija 2).
Nakon 코to mi napunimo 40 godina neko iz ministarstva unutra코njih poslova slu캜ajno bri코e sve informacije o na코em bratu iz baze podataka, tako da po poslednjim informacijama znamo da on ima 44 godine.
Imamo jedan efekat koji oslu코kuje da li je na코 brat punoletan (linija 5). 맚a se de코ava kada kliknemo na dugme &ldquo;Pove캖aj godine&rdquo; (ignorisa캖emo po캜etno stanje za sad, s obzirom da se isto de코ava prilikom inicijalnog pokretanja).</p>
<h5 id="1-promena-na코eg-writable-signala-u-ovom-primeru-_age_-signal-pokre캖e-pushpull-algoritam">1. Promena na코eg Writable signala (u ovom primeru <em>age</em> signal) pokre캖e Push/Pull algoritam</h5>
<h5 id="2-na코-proizvodja캜-_age_-push-uje-svoju-prljav코tinu-flag-koji-ozna캜ava-da-se-vrednost-promenila-obave코tavaju캖i-sve-njegove-korisnike-u-ovom-slu캜aju-_olderbrotherage_-da-je-njegova-vrednost-stara-i-da-bi-trebalo-da-se-promeni">2. Na코 proizvodja캜 <em>age</em> push-uje svoju &ldquo;prljav코tinu&rdquo; (flag koji ozna캜ava da se vrednost promenila), obave코tavaju캖i sve njegove korisnike, u ovom slu캜aju <em>olderBrotherAge</em> da je njegova vrednost stara i da bi trebalo da se promeni</h5>
<h5 id="3-_olderbrotherage_-isto-ima-svoje-korisnike-tako-da-ih-i-on-obave코tava-da-im-je-vrednost-stara-_consolelog-u-efektu_-linija-6">3. <em>olderBrotherAge</em> isto ima svoje korisnike, tako da ih i on obave코tava da im je vrednost stara (<em>console.log u efektu</em>, linija 6)</h5>
<h5 id="4-_efekat_-consolelog-zatra쬿ju-najnoviju-vrednost-od-olderbrotherage-signala-_olderbrotherage_-ponovo-zatra쬿je-najnoviju-vrednost-od-_age_-signala-_age_-signal-je-a쬿rirao-svoju-vrednost-i-svoju-verziju-vrednosti-objasni캖emo-코ta-je-ovo-u-nastavku-i-obave코tava-_olderbrotherage_-signal-o-novom-stanju">4. <em>efekat</em> (console.log), zatra쬿ju najnoviju vrednost od olderBrotherAge signala. <em>olderBrotherAge</em> ponovo zatra쬿je najnoviju vrednost od <em>age</em> signala. <em>Age</em> signal je a쬿rirao svoju vrednost i svoju verziju vrednosti (objasni캖emo 코ta je ovo u nastavku) i obave코tava <em>olderBrotherAge</em> signal o novom stanju</h5>
<h5 id="5-_olderbrotherage_-rekalkuli코e-svoju-vrednost-prime캖uje-da-mu-se-vrednost-promenila-i-menja-svoju-verziju-vrednosti">5. <em>olderBrotherAge</em> rekalkuli코e svoju vrednost, prime캖uje da mu se vrednost promenila i menja svoju verziju vrednosti</h5>
<h5 id="6-_efekat_-shvata-da-je-verzija-vrednosti-signala-koji-se-koristi-u-njemu-promenjena-povla캜i-novu-vrednost-i-prikazuje-_brother-is-not-an-adult-yet_-u-konzoli">6. <em>Efekat</em> shvata da je verzija vrednosti signala koji se koristi u njemu promenjena, povla캜i novu vrednost i prikazuje &lsquo;<em>Brother is not an adult yet</em>&rsquo; u konzoli</h5>
<p>Kakav je ovo novi termin, &ldquo;<em>verzija vrednosti</em>&rdquo;. U su코tini svaki signal u sebi sadr쬴 numeri캜ku verziju vrednosti koju pove캖ava u zavisnosti da li se njegova &ldquo;prava&rdquo; vrednost promenila.
Ovo predstavlja <strong>semanti캜ki identitet</strong> te vrednosti. Nadoveza캖emo se na prethodni primer kako bi bolje objasnili. 맚a 캖e se desiti kada napunimo 41 godinu?</p>
<p>Kako ne bi ponavljali sve korake re캖i캖emo samo 코ta se de코ava pri kraju push/pull algoritma.</p>
<h5 id="5-_olderbrotherage_-opet-rekalkuli코e-svoju-vrednost-s-obzirom-da-se-_age_-signal-promenio-ali-sada-njegova-vrednost-ostaje-konstantna-44-u-ovom-slu캜aju-taj-signal-ne캖e-promeniti-svoju-verziju-vrednosti">5. <em>olderBrotherAge</em> opet rekalkuli코e svoju vrednost (s obzirom da se <em>age</em> signal promenio), ali sada njegova vrednost ostaje konstantna, 44. U ovom slu캜aju taj signal NE캕E promeniti svoju verziju vrednosti</h5>
<h5 id="6-na-kraju-_efekat_-dobija-informaciju-da-se-verzija-vrednosti-njegovog-prozivodja캜a-nije-promenila-i-nema-potrebe-da-se-izvr코i">6. Na kraju <em>efekat</em> dobija informaciju da se verzija vrednosti njegovog prozivodja캜a nije promenila i nema potrebe da se izvr코i</h5>
<p>S obzirom na ovakav nacin funkcionisanja signala (na pra캖enje zavisnost izmedju <em>witable</em>, <em>readonly</em> i <em>efekata</em>), nema potrebe da se brinete da 캖e ikada do캖i do <em>memory leak</em>-a.</p>
<h4 id="zaklju캜ak"><strong>Zaklju캜ak</strong></h4>
<p>Nakon svega ovoga, mo쬰mo izvesti slede캖e benefite signala:</p>
<h5 id="--_zonejs_-biblioteka-vi코e-nije-neophodna-코to-캖e-smanjiti-bundle-size-i-u캜initi-aplikaciju-dosta-efikasnijom-vi코e-nema-potrebe-za-prola쬰nje-kroz-stablo-komponenata-detekcija-promena-se-vr코i-lokalno-jedna-napomena-oko-ovoga-jeste-da-캖e-ovo-biti-mogu캖e-tek-od-_verzije-17-angulara_-za-sada-detekcija-promena-funkcioni코e-i-dalje-na-globalnom-nivou">- <em>Zone.js</em> biblioteka vi코e nije neophodna, 코to 캖e smanjiti bundle size i u캜initi aplikaciju dosta efikasnijom (vi코e nema potrebe za prola쬰nje kroz stablo komponenata, detekcija promena se vr코i lokalno). Jedna napomena oko ovoga jeste da 캖e ovo biti mogu캖e tek od <em>verzije 17 Angulara</em> (za sada detekcija promena funkcioni코e i dalje na globalnom nivou).</h5>
<h5 id="--_rxjs_-캖e-biti-manje-kori코캖en-ovo-mo쬰-biti-i-mana-za-one-koji-imaju-dosta-iskustva-rade캖i-sa-tom-biblikotekom-ali-ne-brinite-iako-su-signali-bolji-u-ve캖ini-slu캜ajeva-za-bilo-kakve-kompleksnije-asinhrone-dogadjaje-rxjs-i-dalje-pru쬬-najbolju-podr코ku-rad-sa-asinhronim-podacima-sa-servera-ili-kompleksnijim-_eventemitterim_-a">- <em>Rxjs</em> 캖e biti manje kori코캖en (ovo mo쬰 biti i mana za one koji imaju dosta iskustva rade캖i sa tom biblikotekom). Ali ne brinite iako su signali bolji u ve캖ini slu캜ajeva, za bilo kakve kompleksnije asinhrone dogadjaje rxjs i dalje pru쬬 najbolju podr코ku (rad sa asinhronim podacima sa servera ili kompleksnijim <em>eventEmitterim</em>-a).</h5>
<p><img src="../../../images/blog/signals/Angular_Signals.jpg" alt="RxjsSignals"></p>
<p>캛ekaj malo, za코to bi koristili rxjs uop코te u na코im aplikacijma, rekli smo da 쬰limo da izbacimo Zone.js iz upotrebe, ali za prikazivanje observabli potreban nam je <em>async pipe</em>
(mo쬰mo i deklarisati promenjivu kojoj bi prosledili vrednost <em>observable</em>-a prilikom subscripcije, ali opet nam je potreban Zone.js da bi pratili promene tog <em>observable</em>-a)?
Angular tim 캖e u budu캖im verzijama uvesti funkcije za automatsku konverziju observabli u signale i obrnuto (<em>toObservable()</em> i <em>toSignal()</em> ovo je samo pretpostavka kako bi izgledale).</p>
<p>Sta 캖e se desi sa bibliotekama za upravljanje stanjem u aplikaciji, koji kao svoju bazu koriste rxjs (mislimo na <strong>Ngrx</strong>)?
Ngrx tim takodje otvoreno prihvata sve promene koje signali donose uvode캖i novi na캜in upravljanja stanjem sa <em>signalStore</em>-om (integracija je ve캖 prisutna u verziji 16 Angulara
sa <em>selectSignal</em> metodom, koja za razliku od klasi캜ne <em>select</em> metode, za svoju povratnu vrednost ima <em>Signal</em> umesto <em>Observable</em>-a).
<em>RFC signalStore-a mo쬰te videti na ovom linku: <a href="https://github.com/ngrx/platform/discussions/3796">https://github.com/ngrx/platform/discussions/3796</a></em>.</p>
<p>Ako budete imali jo코 neka pitanja slobodno ih mo쬰te postaviti <strong>tech9320</strong> timu direktno 游</p>
<hr>
<p>Pa ljubitelji Angulara, signali 캖e definitvno promeniti ceo koncept rada u Angular okru쬰nju.
Ovo deluje malo zastra코uju캖e, ali u isto vreme jako ohrabruju캖e zato 코to 캖emo u budu캖nosti videti kako se na코e voljeno okru쬰nje koristi u sve ve캖em broju aplikacija.
Ako 쬰lite vi코e informacija o signalima mo쬰te pogledati slede캖e linkove:</p>
<ul>
<li>Sjajan blog o signalima: <a href="https://dev.to/this-is-angular/angular-signals-everything-you-need-to-know-2b7g">https://dev.to/this-is-angular/angular-signals-everything-you-need-to-know-2b7g</a></li>
<li>Signal playground: <a href="https://stackblitz.com/edit/angular-signals-deborahk?file=src%2Fmain.ts">https://stackblitz.com/edit/angular-signals-deborahk?file=src%2Fmain.ts</a></li>
<li>Kratak video o signalima: <a href="https://www.youtube.com/watch?v=4FkFmn0LmLI&amp;ab_channel=JoshuaMorony">https://www.youtube.com/watch?v=4FkFmn0LmLI&amp;ab_channel=JoshuaMorony</a></li>
</ul>

        </article>
      </div>
    </div>
  </div>
</section>


        </main><footer class="site-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="site-footer-logo"><a href="https://9320.tech/"><img style="width: 168px; height: 35.5px;" src="https://9320.tech/images/logo-horizontal-white.png" alt="logo-footer"></a></div>
      </div>
      
      <div class="col-lg-3 col-md-6">
        <div class="site-footer-widget">
          <h5 class="site-footer-widget-title">Kontakt informacije</h5>
          <p class="site-footer-widget-description">
            11000 Beograd, Srbija
            
            <br>
            <a href="mailto:office@9320.tech">office@9320.tech</a>
          </p>
        </div>
      </div>
      
      
      <div class="col-lg-2 col-md-6">
        <div class="site-footer-widget">
          <h5 class="site-footer-widget-title">Mapa sajta</h5>
          <ul class="site-footer-widget-links">
            
            <li><a href="https://9320.tech/sr/about">O nama</a></li>
            
            <li><a href="https://9320.tech/sr/portfolio">Usluge</a></li>
            
            <li><a href="https://9320.tech/sr/blog">Blog</a></li>
            
            <li><a href="https://9320.tech/sr/agro-invest">AgroInvest</a></li>
            
            <li><a href="https://9320.tech/sr/contact">Kontakt</a></li>
            
          </ul>
        </div>
      </div>
      
      
      <div class="col-lg-2 col-md-6">
        <div class="site-footer-widget">
          <h5 class="site-footer-widget-title">Pratite na코 rad!</h5>
          <ul class="site-footer-widget-links">
            
              <li><a target="_blank" href="https://github.com/tech9320">GitHub</a></li>
            
          </ul>
        </div>
      </div>
      
      
      <div class="col-lg-3 col-md-6">
        <div class="site-footer-widget">
          <h5 class="site-footer-widget-title">Tu smo da vam pomognemo</h5>
          <p class="site-footer-widget-description">
            Sajt? Mo쬰!<br>Aplikacija? Mo쬰!<br>Visok kvalitet zagarantovan!
          </p>
        </div>
      </div>
      
      <div class="col-lg-2 col-12">
        <a href="#top" class="site-footer-widget-top">
          <img src="https://9320.tech/images/to-top.svg" alt="back-to-top">
          <p>
            Vratite se na
            <br>
            po캜etak sajta
          </p>
        </a>
      </div>
      <div class="col-12">
        <div class="site-footer-copyright">
          <p>춸 Copyright 2023 - HUGO theme by <a href="https://staticmania.com/" target="_blank">StaticMania</a>. Website by the Tech9320 team </p>
        </div>
      </div>
    </div>
  </div>
</footer>



<script src="https://9320.tech/js/vendor.min.js"></script>

<script src="https://9320.tech/js/script.min.js"></script></body>
</html>
