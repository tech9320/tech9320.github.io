<!DOCTYPE html>
<html lang="sr"><head>
  <meta charset="utf-8" />
  <title>ECMAscript 2023 - Nizovi&#43;&#43;</title>

  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  
  <meta name="author" content="Tech9320">
  
  <meta name="generator" content="Hugo 0.102.2" />

  <!-- Bootstrap -->
  
  <link rel="stylesheet" href="https://9320.tech/css/bootstrap.min.css" />
  <!-- font-awesome -->
  <link rel="stylesheet" href="https://9320.tech/font-awesome/css/font-awesome.min.css" />
  <!-- Main Stylesheets -->
  
  <link href="https://9320.tech/scss/style.min.css" rel="stylesheet" />
  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QXRDBKKF8K"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-QXRDBKKF8K', { 'anonymize_ip': false });
}
</script>

  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-QXRDBKKF8K', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  
  <link rel="shortcut icon" href="https://9320.tech/images/favicon.png" type="image/x-icon" />
  <link rel="icon" href="https://9320.tech/images/favicon.png" type="image/x-icon" />
</head><body><nav class="navbar navbar-expand-lg site-navigation">
  <div class="container">
    <a class="navbar-brand" href="https://9320.tech/" style="width: 300px">
      <img style="width: 168px; height: 35px; max-width: 168px" src="https://9320.tech/images/logo-horizontal-black.png" alt="logo" />
    </a>
    <button
      class="navbar-toggler collapsed"
      type="button"
      data-toggle="collapse"
      data-target="#sitenavbar"
    >
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
      <span class="icon-bar"></span>
    </button>

    <div class="collapse navbar-collapse" id="sitenavbar">
      <ul class="navbar-nav ml-auto main-nav">
           
        <li class="nav-item">
          <a class="nav-link" href="/sr/">Početna stranica</a>
        </li>
          
        <li class="nav-item">
          <a class="nav-link" href="/sr/about/">O nama</a>
        </li>
          
        <li class="nav-item">
          <a class="nav-link" href="/sr/portfolio/">Usluge</a>
        </li>
          
        <li class="nav-item">
          <a class="nav-link" href="/sr/blog/">Blog</a>
        </li>
          
        <li class="nav-item">
          <a class="nav-link blink" href="/sr/agro-invest/">AgroInvest</a>
        </li>
          
        <li class="nav-item">
          <a
            class="nav-link btn btn-sm btn-primary btn-sm-rounded"
            href="/sr/contact/"
          >
            <span class="btn-area">
              <span data-text="Kontakt"> Kontakt </span>
            </span>
          </a>
        </li>
         
        <li class="nav-item">
           
          <a class="nav-link" href="/en/blog/1681665695-ecma/"
            >ENG</a
          >
           
        </li>
      </ul>
    </div>
  </div>
</nav>
<main>

<section class="site-blog details">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-12">
        <article class="site-blog-details">
          <p><span>April 30, 2023</span> by <span>Stevan Radovanović</span></p>
          <h2 class="blog-title">ECMAscript 2023 - Nizovi&#43;&#43;</h2>
          <p class="feature-image-wrap">
            <img class="feature-image" src="https://9320.tech/images/blog/ecma2023.jpeg" alt="blog-feature-image">
          </p>
          <p><strong>ECMAScript 2023</strong>, sledeća planirana nadogradnja za zvaničnu specifikaciju JavaScript programskog jezika, je veoma blizu. Svake godine, otprilike u isto vreme, dobijamo nekoliko novih funkcionalnosti koje poboljšavaju kvalitet života svim JS programerima. U ovom članku, fokusiraćemo se na promene vezane za Array prototip.</p>
<hr>
<h3 id="findlast-and-findlastindex"><strong>findLast() and findLastIndex()</strong></h3>
<p>Pronalaženje poslednjeg elementa u nizu koji zadovoljava određeni uslov deluje kao prilično jednostavna stvar, zar ne? Verovali ili ne, ova funkcionalnost trenutno nije predstavljena array metodom, a ova verzija ECMAscripta ima za cilj da to promeni. Prvo da vidimo kako trenutno rešavamo ovu situaciju:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">array</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* standardna for petlja */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">let</span> <span style="color:#a6e22e">index</span> <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">let</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">array</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">array</span>[<span style="color:#a6e22e">i</span>] <span style="color:#f92672">===</span> <span style="color:#ae81ff">3</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">index</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">i</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* obrtanje niza */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">index</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">array</span>.<span style="color:#a6e22e">reverse</span>().<span style="color:#a6e22e">findIndex</span>((<span style="color:#a6e22e">elem</span>) =&gt; <span style="color:#a6e22e">elem</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">3</span>);
</span></span></code></pre></div><p>Iako potpuno validna, u oba rešenja ima nekih stvari koje bi mogle biti bolje.</p>
<p>Prvo je previše opširno, i iako je performantnije, uvek bismo trebali koristiti ugrađene array metode (nisu džabe pravljene).</p>
<p>Drugo ima očigledan problem - reverse metoda je destruktivna. To znači da će originalni niz biti trajno obrnut, što u većini slučajeva nije ono što želimo da uradimo. Osim toga, ova metoda zahteva dva prolaza kroz niz. Nije baš idealno&hellip;</p>
<p>ECMAscript 2023 će ponuditi mnogo jednostavnije rešenje:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>    <span style="color:#75715e">/* ECMAscript 2023 rešenje */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">index</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">array</span>.<span style="color:#a6e22e">findLastIndex</span>((<span style="color:#a6e22e">elem</span>) =&gt; <span style="color:#a6e22e">elem</span> <span style="color:#f92672">===</span> <span style="color:#ae81ff">3</span>);
</span></span></code></pre></div><p><strong>Manje opširan, bez dodatnih prolaza kroz niz, bez mutacija, bez kopiranja.</strong> Slične metode već postoje u .NET-u i Javi, tako da je vreme da to postane standardna stvar i u JS ekosistemu.</p>
<p>Evo stvarnog primera upotrebe gde bi ova funkcionalnost mogla biti korišćeno da se značajno poboljša kvalitet koda:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>    <span style="color:#75715e">/* Hronološka lista transakcija */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">transactions</span> <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>        {<span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1</span>, <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Deposit&#39;</span>, <span style="color:#a6e22e">amountInCents</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">15000</span>},
</span></span><span style="display:flex;"><span>        {<span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">2</span>, <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Deposit&#39;</span>, <span style="color:#a6e22e">amountInCents</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">20000</span>},
</span></span><span style="display:flex;"><span>        {<span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>, <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;ATM Withdrawal&#39;</span>, <span style="color:#a6e22e">amountInCents</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">30000</span>},
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ...
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    ]
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">/* Pronalaženje poslednjeg elementa koji zadovoljava neki uslov */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">t</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">transactions</span>.<span style="color:#a6e22e">findLast</span>(<span style="color:#a6e22e">elem</span> =&gt; <span style="color:#a6e22e">elem</span>.<span style="color:#a6e22e">amountInCents</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">25000</span>);
</span></span></code></pre></div><p>Nije loše!</p>
<hr>
<h3 id="promena-niza-preko-njegove-kopije"><strong>Promena niza preko njegove kopije</strong></h3>
<p>Ova nova funkcionalnost uvodi specijalne varijante postojećih metoda za nizove, čineći ih nedestruktivnim. To znači da originalna referenca niza ostaje ista nakon njihovog izvršenja. Metode uključene u predlog su:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>    Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">toReversed</span>() <span style="color:#f92672">-&gt;</span> Array
</span></span><span style="display:flex;"><span>    Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">toSorted</span>(<span style="color:#a6e22e">compareFn</span>) <span style="color:#f92672">-&gt;</span> Array
</span></span><span style="display:flex;"><span>    Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">toSpliced</span>(<span style="color:#a6e22e">start</span>, <span style="color:#a6e22e">deleteCount</span>, ...<span style="color:#a6e22e">items</span>) <span style="color:#f92672">-&gt;</span> Array
</span></span><span style="display:flex;"><span>    Array.<span style="color:#a6e22e">prototype</span>.<span style="color:#66d9ef">with</span>(<span style="color:#a6e22e">index</span>, <span style="color:#a6e22e">value</span>) <span style="color:#f92672">-&gt;</span> Array
</span></span></code></pre></div><p>Pogledajmo neke od ovih metoda u akciji. Zamislimo da imamo nesortiran niz brojeva.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">array</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">1</span>];
</span></span></code></pre></div><p>Naš cilj je da nađemo tri najmanja broja iz ovog niza. Ali, originalni niz mora ostati isti, jer nam je potreban u svom originalnom redosledu za kasnije. Evo (jednog od mnogih) rešenja koje bismo mogli predložiti, bez korišćenja novih metoda.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">arrayCopy</span> <span style="color:#f92672">=</span> [...<span style="color:#a6e22e">array</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">arrayCopy</span>.<span style="color:#a6e22e">sort</span>((<span style="color:#a6e22e">a</span>,<span style="color:#a6e22e">b</span>) =&gt; <span style="color:#a6e22e">a</span><span style="color:#f92672">-</span><span style="color:#a6e22e">b</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">threeSmallestNumbers</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">arrayCopy</span>.<span style="color:#a6e22e">splice</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">3</span>);
</span></span></code></pre></div><p>Nema ničeg lošeg u ovom pristupu - stvaramo shallow kopiju niza (trebalo bi da bude deep kopija ako sortiramo objekte), sortiramo kopirani niz i uklanjamo tri najmanja elementa. Originalni niz je netaknut, ali smo morali ručno da napravimo kopiju.</p>
<p>Pogledajmo kako to možemo uraditi sa novim metodama:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">threeSmallestNumbers</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">array</span>
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">toSorted</span>((<span style="color:#a6e22e">a</span>,<span style="color:#a6e22e">b</span>) =&gt; <span style="color:#a6e22e">a</span><span style="color:#f92672">-</span><span style="color:#a6e22e">b</span>)
</span></span><span style="display:flex;"><span>        .<span style="color:#a6e22e">toSpliced</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">3</span>);
</span></span></code></pre></div><p><strong>Mnogo lakše za čitanje, zar ne?</strong></p>
<hr>
<p>Ovo su samo neke od promena. Ako želite da saznate više o svim promenama koje će ECMAscript 2023 doneti, pogledajte ove korisne linkove:</p>
<ul>
<li><a href="https://tc39.es/ecma262/2023/">ECMA 2023 Specikacija</a></li>
<li><a href="https://github.com/tc39/proposal-change-array-by-copy">Change Array by Copy Proposal</a></li>
<li><a href="https://github.com/tc39/proposal-array-find-from-last">FindLast Proposal</a></li>
<li><a href="https://github.com/tc39/proposal-symbols-as-weakmap-keys">Symbols as Weakmap Keys Proposal</a></li>
<li><a href="https://github.com/tc39/proposal-hashbang">Hashbang Proposal</a></li>
</ul>

        </article>
      </div>
    </div>
  </div>
</section>


        </main><footer class="site-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="site-footer-logo"><a href="https://9320.tech/"><img style="width: 168px; height: 35.5px;" src="https://9320.tech/images/logo-horizontal-white.png" alt="logo-footer"></a></div>
      </div>
      
      <div class="col-lg-3 col-md-6">
        <div class="site-footer-widget">
          <h5 class="site-footer-widget-title">Kontakt informacije</h5>
          <p class="site-footer-widget-description">
            11000 Beograd, Srbija
            
            <br>
            <a href="mailto:office@9320.tech">office@9320.tech</a>
          </p>
        </div>
      </div>
      
      
      <div class="col-lg-2 col-md-6">
        <div class="site-footer-widget">
          <h5 class="site-footer-widget-title">Mapa sajta</h5>
          <ul class="site-footer-widget-links">
            
            <li><a href="https://9320.tech/sr/about">O nama</a></li>
            
            <li><a href="https://9320.tech/sr/portfolio">Usluge</a></li>
            
            <li><a href="https://9320.tech/sr/blog">Blog</a></li>
            
            <li><a href="https://9320.tech/sr/agro-invest">AgroInvest</a></li>
            
            <li><a href="https://9320.tech/sr/contact">Kontakt</a></li>
            
          </ul>
        </div>
      </div>
      
      
      <div class="col-lg-2 col-md-6">
        <div class="site-footer-widget">
          <h5 class="site-footer-widget-title">Pratite naš rad!</h5>
          <ul class="site-footer-widget-links">
            
              <li><a target="_blank" href="https://github.com/tech9320">GitHub</a></li>
            
          </ul>
        </div>
      </div>
      
      
      <div class="col-lg-3 col-md-6">
        <div class="site-footer-widget">
          <h5 class="site-footer-widget-title">Tu smo da vam pomognemo</h5>
          <p class="site-footer-widget-description">
            Sajt? Može!<br>Aplikacija? Može!<br>Visok kvalitet zagarantovan!
          </p>
        </div>
      </div>
      
      <div class="col-lg-2 col-12">
        <a href="#top" class="site-footer-widget-top">
          <img src="https://9320.tech/images/to-top.svg" alt="back-to-top">
          <p>
            Vratite se na
            <br>
            početak sajta
          </p>
        </a>
      </div>
      <div class="col-12">
        <div class="site-footer-copyright">
          <p>© Copyright 2023 - HUGO theme by <a href="https://staticmania.com/" target="_blank">StaticMania</a>. Website by the Tech9320 team </p>
        </div>
      </div>
    </div>
  </div>
</footer>



<script src="https://9320.tech/js/vendor.min.js"></script>

<script src="https://9320.tech/js/script.min.js"></script></body>
</html>
